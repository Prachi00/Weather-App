(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],[,function(a,e,t){a.exports={dashboard:"Dashboard_dashboard__3p6rc",dashboard__parent:"Dashboard_dashboard__parent__2SIIX",dashboard__card:"Dashboard_dashboard__card__1dFN6",dashboard__forecast:"Dashboard_dashboard__forecast__3TzD9",dashboard__forecast__container:"Dashboard_dashboard__forecast__container__aMGu9",dashboard__forecast__container__active:"Dashboard_dashboard__forecast__container__active__dKeUO",dashboard__forecast__desc:"Dashboard_dashboard__forecast__desc__3sfyI",dashboard__forecast__image:"Dashboard_dashboard__forecast__image__2kC0d",dashboard__forecast__min:"Dashboard_dashboard__forecast__min__Dw5Q4",dashboard__forecast__temp:"Dashboard_dashboard__forecast__temp__Omsjf",dashboard__current:"Dashboard_dashboard__current__2Z6R5",dashboard__current__info:"Dashboard_dashboard__current__info__29HBR",dashboard__current__temp:"Dashboard_dashboard__current__temp__EDrkS",dashboard__current__hourly:"Dashboard_dashboard__current__hourly__2NVls",dashboard__extra:"Dashboard_dashboard__extra__2HPK9",dashboard__extra__option:"Dashboard_dashboard__extra__option__3LmMj",dashboard__extra__option__label:"Dashboard_dashboard__extra__option__label__3GTcs",dashboard__extra__sun:"Dashboard_dashboard__extra__sun__Cg533",dashboard__extra__sun__time:"Dashboard_dashboard__extra__sun__time__1ImyO",dashboard__hourly:"Dashboard_dashboard__hourly__3Ty4x",dashboard__hourly__time:"Dashboard_dashboard__hourly__time__39pHa",dashboard__hourly__temp:"Dashboard_dashboard__hourly__temp__1CGCc"}},,function(a,e,t){a.exports={search:"Search_search__1Zpx3",search__pin:"Search_search__pin__33VVI",search__searchIcon:"Search_search__searchIcon__3olLa",search__input:"Search_search__input__30Muk",search__dropdown:"Search_search__dropdown__2cuNi",search__dropdown__res:"Search_search__dropdown__res__1wapI",search__dropdown__info:"Search_search__dropdown__info__1geHT",search__dropdown__info__temp:"Search_search__dropdown__info__temp__28llL",search__dropdown__info__desc:"Search_search__dropdown__info__desc__1qriv"}},,,,function(a,e,t){a.exports={parent:"Loader_parent__1lNZR",loader:"Loader_loader__1KZeC",load6:"Loader_load6__3L2lF",round:"Loader_round__38bTK"}},function(a,e,t){a.exports={chart:"Chart_chart__2n35j",chart__child:"Chart_chart__child__2QxDw"}},,,function(a,e,t){a.exports=t.p+"static/media/pin.e9ac59a8.svg"},function(a,e,t){a.exports=t.p+"static/media/search.744d54d4.svg"},,function(a,e,t){a.exports=t(23)},,,,,function(a,e,t){},function(a,e,t){},,,function(a,e,t){"use strict";t.r(e);var r=t(0),n=t.n(r),_=t(10),o=t.n(_),c=(t(19),t(20),t(4)),s=t(5),d=t(2),l=t(1),i=t.n(l),h=function(a){return a.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})},u=function(a){var e=["Sun","Mon","Tue","Wed","Thur","Fri","Sat"];return a?e[new Date(1e3*a).getDay()]:e[(new Date).getDay()]},m=t(3),b=t.n(m),p=t(11),f=t.n(p),v=t(12),g=t.n(v),E=function(a){var e,t,_=Object(r.useState)([]),o=Object(d.a)(_,2),c=o[0],l=o[1],i=Object(r.useState)(a.defaultVal),h=Object(d.a)(i,2),u=h[0],m=h[1],p=Object(r.useRef)(null);e=p,t=function(){l([]),m("")},Object(r.useEffect)((function(){var a=function(a){e.current&&!e.current.contains(a.target)&&t(a)};return document.addEventListener("mousedown",a),document.addEventListener("touchstart",a),function(){document.removeEventListener("mousedown",a),document.removeEventListener("touchstart",a)}}),[e,t]);return n.a.createElement("div",{className:b.a.search,ref:p},n.a.createElement("input",{value:u,type:"text",className:b.a.search__input,onChange:function(a){if(m(a.target.value),a.target.value.length||l([]),a.target.value.length>3){var e="https://api.openweathermap.org/data/2.5/find?q=".concat(a.target.value,"&cnt=10&units=metric&appid=").concat("2fcb3aafd3a2b0258d94ef74fc758508");fetch(e).then((function(a){return a.json()})).then((function(a){var e,t=[],r=Object(s.a)(a.list);try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push({lat:n.coord.lat,lon:n.coord.lon,name:n.name,temp:Math.ceil(n.main.temp),icon:n.weather[0].icon,desc:n.weather[0].main})}}catch(_){r.e(_)}finally{r.f()}l(t)}))}}}),n.a.createElement("img",{src:f.a,alt:"",className:b.a.search__pin}),n.a.createElement("img",{src:g.a,alt:"",className:b.a.search__searchIcon}),c.length?n.a.createElement("div",{className:b.a.search__dropdown},c.map((function(e,t){return n.a.createElement("div",{key:t,className:b.a.search__dropdown__res,onClick:function(){return t=e.lat,r=e.lon,a.getSearchData(t,r),void l([]);var t,r}},n.a.createElement("span",null,e.name),n.a.createElement("div",{className:b.a.search__dropdown__info},n.a.createElement("div",{className:b.a.search__dropdown__info__temp},n.a.createElement("span",null,e.temp,"\u2103"),n.a.createElement("span",{className:b.a.search__dropdown__info__desc},e.desc)),n.a.createElement("div",null,n.a.createElement("img",{className:b.a.dashboard__forecast__image,src:"https://openweathermap.org/img/wn/".concat(e.icon,".png"),alt:""}))))}))):null)},w=t(7),j=t.n(w),y=function(a){return n.a.createElement("div",{className:j.a.parent},n.a.createElement("div",{className:j.a.loader},"Loading..."))},N=t(8),O=t.n(N),x=t(13),D=t.n(x);function S(a){return Object(r.useEffect)((function(){!function(){var e=document.getElementById("myChart");new D.a(e,{type:"line",data:{labels:a.label,datasets:[{label:"Temperature",data:a.data,backgroundColor:"rgba(255,255,255,0.1)",borderColor:"rgba(54, 162, 235)",pointBackgroundColor:"rgba(54, 162, 235, 1)",pointBorderColor:"rgba(54, 162, 235, 1)",borderWidth:2}]},options:{legend:{display:!1},scales:{yAxes:[{ticks:{padding:100},display:!1}]}}})}()})),n.a.createElement("div",{className:O.a.chart},n.a.createElement("div",{className:O.a.chart__child},n.a.createElement("canvas",{id:"myChart",height:"280",width:"0"})))}var C=function(){var a=Object(r.useRef)({}),e=Object(r.useState)(),t=Object(d.a)(e,2),_=t[0],o=t[1],l=Object(r.useState)([]),m=Object(d.a)(l,2),b=m[0],p=m[1],f=Object(r.useState)([]),v=Object(d.a)(f,2),g=v[0],w=v[1],j=Object(r.useState)([]),N=Object(d.a)(j,2),O=N[0],x=N[1],D=Object(r.useState)([]),C=Object(d.a)(D,2),k=C[0],L=C[1],I=Object(r.useState)([]),M=Object(d.a)(I,2),T=M[0],B=M[1],H=Object(r.useState)(!0),R=Object(d.a)(H,2),V=R[0],F=R[1],K=Object(r.useState)({}),W=Object(d.a)(K,2),Z=W[0],A=W[1],G=function(a,e){var t;t="https://api.openweathermap.org/data/2.5/onecall?lat=".concat(a,"&lon=").concat(e,"&units=metric&appid=").concat("2fcb3aafd3a2b0258d94ef74fc758508"),fetch(t).then((function(a){return a.json()})).then((function(a){F(!1),o(a.current);var e,t=[],r=Object(s.a)(a.daily.slice(0,6));try{for(r.s();!(e=r.n()).done;){var n=e.value,_=u(n.dt);t.push({day:_,dt:n.dt,min:Math.ceil(n.temp.min),max:Math.ceil(n.temp.max),icon:n.weather[0].icon,desc:n.weather[0].main})}}catch(c){r.e(c)}finally{r.f()}x(t),L(t[0])}),(function(a){}))};Object(r.useEffect)((function(){O.length&&q()}),[O]);var P=function(a){localStorage.setItem("location-allowed",!0),A({lat:a.coords.latitude,lon:a.coords.longitude}),function(a,e){var t;t="https://api.openweathermap.org/data/2.5/weather?lat=".concat(a,"&lon=").concat(e,"&units=metric&appid=").concat("2fcb3aafd3a2b0258d94ef74fc758508"),fetch(t).then((function(a){return a.json()})).then((function(a){B(a.name)}))}(a.coords.latitude,a.coords.longitude),G(a.coords.latitude,a.coords.longitude)},U=function(){localStorage.removeItem("location-allowed"),alert("Unable to retrieve location.")};Object(r.useEffect)((function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(P,U,{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):alert("Your browser does not support location tracking, or permission is denied.")}),[]);var q=function(){var e;e="https://api.openweathermap.org/data/2.5/forecast?lat=".concat(Z.lat,"&lon=").concat(Z.lon,"&units=metric&appid=").concat("2fcb3aafd3a2b0258d94ef74fc758508"),fetch(e).then((function(a){return a.json()})).then((function(e){var t,r,n=[],_=Object(s.a)(e.list);try{for(_.s();!(r=_.n()).done;){var d=r.value;t=u(d.dt),a.current&&!a.current[t]&&(n=[]),n.push(Object(c.a)(Object(c.a)({},d),e.city)),a.current[t]=n,o(Object(c.a)(Object(c.a)(Object(c.a)({},a.current[t][0]),a.current[t][0].main),e.city))}}catch(l){_.e(l)}finally{_.f()}J(O[0],!0)}))},J=function(e,t){L(e);var r=[],n=[];t||o(Object(c.a)(Object(c.a)({},a.current[e.day][0]),a.current[e.day][0].main));var _,d=Object(s.a)(a.current[e.day]);try{for(d.s();!(_=d.n()).done;){var l=_.value;r.push(l.main.temp);var i=h(new Date(1e3*l.dt));n.push(["".concat(Math.ceil(l.main.temp),"\xb0C"),i])}}catch(u){d.e(u)}finally{d.f()}w(r),p(n)};return n.a.createElement(n.a.Fragment,null,V?n.a.createElement(y,null):n.a.createElement("div",{className:i.a.dashboard},n.a.createElement("div",{className:i.a.dashboard__parent},n.a.createElement(E,{getSearchData:function(a,e){G(a,e),A({lat:a,lon:e})},defaultVal:T}),n.a.createElement("div",{className:i.a.dashboard__forecast},O.map((function(a,e){return n.a.createElement("div",{key:e,className:"".concat(i.a.dashboard__forecast__container," ").concat(a===k?"".concat(i.a.dashboard__forecast__container__active):""),onClick:function(){return J(a)}},n.a.createElement("span",null,a.day),n.a.createElement("div",null,n.a.createElement("span",{className:i.a.dashboard__forecast__temp},a.max,"\xb0"),n.a.createElement("span",{className:i.a.dashboard__forecast__min},a.min,"\xb0")),n.a.createElement("img",{className:i.a.dashboard__forecast__image,src:"https://openweathermap.org/img/wn/".concat(a.icon,".png"),alt:""}),n.a.createElement("span",{className:i.a.dashboard__forecast__desc},a.desc))}))),n.a.createElement("div",{className:i.a.dashboard__card},_&&_.weather?n.a.createElement("div",{className:i.a.dashboard__current},n.a.createElement("div",{className:i.a.dashboard__current__info},n.a.createElement("span",{className:i.a.dashboard__current__temp},Math.ceil(_.temp),"\u2103"),n.a.createElement("img",{src:"https://openweathermap.org/img/wn/".concat(null===_||void 0===_?void 0:_.weather[0].icon,"@2x.png"),alt:""})),b.length&&g.length?n.a.createElement(S,{label:b,data:g}):null,n.a.createElement("div",{className:i.a.dashboard__extra},n.a.createElement("div",{className:i.a.dashboard__extra__option},n.a.createElement("span",{className:i.a.dashboard__extra__option__label},"Pressure"),n.a.createElement("span",null,_.pressure," hpa")),n.a.createElement("div",{className:i.a.dashboard__extra__option},n.a.createElement("span",{className:i.a.dashboard__extra__option__label},"Humidity"),n.a.createElement("span",null,_.humidity," %"))),n.a.createElement("div",{className:i.a.dashboard__extra},n.a.createElement("div",{className:i.a.dashboard__extra__sun},n.a.createElement("span",{className:i.a.dashboard__extra__option__label},"Sunrise"),n.a.createElement("span",{className:i.a.dashboard__extra__sun__time},h(new Date(1e3*_.sunrise)))),n.a.createElement("div",{className:i.a.dashboard__extra__sun},n.a.createElement("span",{className:i.a.dashboard__extra__option__label},"Sunset"),n.a.createElement("span",{className:i.a.dashboard__extra__sun__time},h(new Date(1e3*_.sunset)))))):null))))};var k=function(){return n.a.createElement("div",{className:"app"},n.a.createElement(C,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(a){a.unregister()})).catch((function(a){console.error(a.message)}))}],[[14,1,2]]]);
//# sourceMappingURL=main.1138a59f.chunk.js.map